<!doctype html><html lang=en><head><title>OneDrive Silent Config Not Working? Why the Sign-In Logs Hold the Answer :: HalfOnCloud</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A structured diagnostic walkthrough of an OneDrive SilentAccountConfig failure on an Entra ID joined device from registry validation and PRT health checks to Entra sign-in logs, where the complete absence of authentication attempts reveals the real root cause."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://halfoncloud.com/posts/onedrive-silentaccountconfig-troubleshooting-the-zero-sign-in-log-clue/><link rel=stylesheet href=https://halfoncloud.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://halfoncloud.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://halfoncloud.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://halfoncloud.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://halfoncloud.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://halfoncloud.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://halfoncloud.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://halfoncloud.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://halfoncloud.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://halfoncloud.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://halfoncloud.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://halfoncloud.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://halfoncloud.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://halfoncloud.com/style.css><link rel="shortcut icon" href=https://halfoncloud.com/favicon.png><link rel=apple-touch-icon href=https://halfoncloud.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="OneDrive Silent Config Not Working? Why the Sign-In Logs Hold the Answer"><meta property="og:description" content="A structured diagnostic walkthrough of an OneDrive SilentAccountConfig failure on an Entra ID joined device from registry validation and PRT health checks to Entra sign-in logs, where the complete absence of authentication attempts reveals the real root cause."><meta property="og:url" content="https://halfoncloud.com/posts/onedrive-silentaccountconfig-troubleshooting-the-zero-sign-in-log-clue/"><meta property="og:site_name" content="HalfOnCloud"><meta property="og:image" content="https://halfoncloud.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="Cloud"><meta property="article:published_time" content="2026-02-18 00:00:00 +0000 UTC"><script async src="https://www.googletagmanager.com/gtag/js?id=G-9NQJGGWW9C"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9NQJGGWW9C")</script><link rel=alternate type=application/rss+xml title=HalfOnCloud href=/index.xml><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","headline":"OneDrive Silent Config Not Working? Why the Sign-In Logs Hold the Answer","description":"A structured diagnostic walkthrough of an OneDrive SilentAccountConfig failure on an Entra ID joined device from registry validation and PRT health checks to Entra sign-in logs, where the complete absence of authentication attempts reveals the real root cause.","author":{"@type":"Person","name":"Radu Bogdan"},"datePublished":"2026-02-18","dateModified":"2026-02-18","url":"https://halfoncloud.com/posts/onedrive-silentaccountconfig-troubleshooting-the-zero-sign-in-log-clue/","publisher":{"@type":"Organization","name":"HalfOnCloud"},"keywords":["MSIntune","OneDrive"],"wordCount":3354,"timeRequired":"PT16M"}</script><style>body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif!important;font-size:1.05rem!important}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif!important;font-weight:700!important}article h1,article h2,article h3,article.post h1,article.post h2,article.post h3,.content h1,.content h2,.content h3{color:#4a9eff!important;border-bottom:none!important}article.post .post-title{color:#4a9eff!important;border-bottom:none!important}article.post .post-title a{color:#4a9eff!important}.logo{background:0 0!important;padding-left:0!important;margin-left:0!important}.header__logo::after{margin-left:10px;background:repeating-linear-gradient(90deg,#4a9eff,#4a9eff 2px,transparent 0,transparent 10px)!important}img{border:none!important}article a,.post-content a{color:#4a9eff!important}article a:hover,.post-content a:hover{color:#6bb3ff!important}body,html{background-color:#1a1d2e!important}.header{margin-bottom:30px!important}.post.on-list{background:#363636;padding:20px;margin-bottom:20px;border-radius:8px}.post-title a{font-size:1.4rem!important;color:#4a9eff!important}.post-title{border-bottom:none!important;padding-bottom:0!important}.post-title::after,h1::after,h2::after,h3::after{display:none!important}.post-tags{color:#4a9eff!important}.post-tags a{color:#4a9eff!important}.post-tags a:hover{color:#6bb0ff!important}.navigation-menu a{color:#4a9eff!important}.navigation-menu a:hover{color:#6bb0ff!important}.menu__trigger{color:#4a9eff!important;border:2px solid #4a9eff!important;background-color:transparent!important}.menu__dropdown{background-color:#363636!important;border:2px solid #4a9eff!important}.menu__dropdown a{color:#4a9eff!important}.menu__dropdown a:hover{color:#6bb0ff!important;background-color:#404040!important}.read-more.button{display:inline-block!important;background-color:#4a9eff!important;color:#fff!important;padding:8px 18px!important;border-radius:28px!important;text-decoration:none!important;font-weight:600!important;transition:all .3s ease!important;border:none!important;font-size:0!important}.read-more.button::after{content:"Read More →"!important;font-size:.99rem!important;display:inline-block}.read-more.button:hover{background-color:#6bb0ff!important;transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.2)}article ul,.post-content ul{list-style:none!important}article ul li,.post-content ul li{position:relative!important;padding-left:1.2em!important}article ul li::before,.post-content ul li::before{content:"●"!important;position:absolute!important;left:0!important;color:#4a9eff!important;font-weight:700!important}article ul ul li::before,.post-content ul ul li::before{content:"○"!important;color:#4a9eff!important}.sidebar-left ul li::before,.sidebar-right ul li::before,.sidebar-nav ul li::before,.widget-list li::before{content:none!important;display:none!important}.sidebar-left ul li,.sidebar-right ul li,.sidebar-nav ul li,.widget-list li{padding-left:0!important}.heading-link,.anchor,.zola-anchor,h1 a.anchor,h2 a.anchor,h3 a.anchor,h1>a[href^="#"],h2>a[href^="#"],h3>a[href^="#"]{display:none!important;visibility:hidden!important}.sidebar-nav a{font-weight:700!important}.sidebar-title{font-size:1.8rem!important}body.three-column-layout{display:flex;min-height:100vh;margin:0;padding:0}.sidebar-left{width:250px;min-width:250px;background-color:#13151f;border-right:1px solid #2a2d3e;position:fixed;left:0;top:0;height:100vh;overflow-y:auto;z-index:100}.sidebar-left__inner{padding:30px 20px;display:flex;flex-direction:column;align-items:center}.sidebar-avatar{margin-bottom:15px}.avatar-img{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #4a9eff}.avatar-placeholder{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#4a9eff 0%,#6bb0ff 100%);display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:700;color:#fff}.sidebar-title{font-size:1.5rem;margin:10px 0 5px;text-align:center}.sidebar-title a{color:#fff;text-decoration:none}.sidebar-title .red{color:#f44}.sidebar-tagline{font-size:.85rem;color:#888;text-align:center;margin:0 0 25px;line-height:1.4}.sidebar-nav ul{list-style:none;padding:0;margin:0;width:100%}.sidebar-nav li{margin:5px 0}.sidebar-nav a{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#ccc;text-decoration:none;border-radius:8px;transition:all .2s ease;font-size:.95rem}.sidebar-nav a:hover{background-color:#2a2d3e;color:#4a9eff}.sidebar-nav li.active a{background-color:#4a9eff;color:#fff}.sidebar-nav svg{flex-shrink:0}.main-wrapper{flex:1;margin-left:250px;margin-right:280px;min-height:100vh;padding:30px 40px;max-width:950px}.sidebar-right{width:280px;min-width:280px;background-color:#151822;border-left:1px solid #2a2d3e;position:fixed;right:0;top:0;height:100vh;overflow-y:auto;z-index:100}.sidebar-right__inner{padding:30px 20px}.widget{margin-bottom:30px}.widget-title{font-size:1rem;color:#fff;margin:0 0 15px;padding-bottom:10px;border-bottom:1px solid #2a2d3e}.widget-list{list-style:none;padding:0;margin:0}.widget-list li{margin:8px 0}.widget-list a{color:#ccc;text-decoration:none;font-size:.9rem;display:block;padding:5px 0;transition:color .2s ease}.widget-list a:hover{color:#4a9eff}.widget-tags{display:flex;flex-wrap:wrap;gap:8px}.widget-tag{display:inline-block;padding:5px 12px;background-color:#2a2d3e;color:#ccc;text-decoration:none;border-radius:15px;font-size:.8rem;transition:all .2s ease}.widget-tag:hover{background-color:#4a9eff;color:#fff}.widget-tag .count{margin-left:5px;opacity:.7}.archives h1{color:#4a9eff;margin-bottom:30px}.archive-year h2{color:#4a9eff;font-size:1.3rem;margin:25px 0 15px;padding-left:10px;border-left:3px solid #4a9eff}.archive-posts{list-style:none;padding:0;margin:0}.archive-posts li{padding:8px 0;display:flex;align-items:center;gap:15px}.archive-date{color:#888;font-size:.85rem;min-width:60px}.archive-posts a{color:#ccc;text-decoration:none}.archive-posts a:hover{color:#4a9eff}body.three-column-layout .header{display:none}@media(max-width:1200px){.sidebar-right{display:none}.main-wrapper{margin-right:0}}@media(max-width:768px){body.three-column-layout{flex-direction:column}.sidebar-left{width:100%;min-width:100%;position:relative;height:auto;border-right:none;border-bottom:1px solid #2a2d3e}.sidebar-left__inner{padding:20px;height:auto}.sidebar-nav ul{display:flex;flex-wrap:wrap;justify-content:center;gap:5px}.sidebar-nav a{padding:8px 15px}.avatar-img,.avatar-placeholder{width:80px;height:80px;font-size:2rem}.main-wrapper{margin-left:0;padding:20px}.sidebar-right{display:none}.sidebar-social{position:relative;bottom:auto;margin-top:15px}}@media(max-width:768px){.sidebar-social{position:relative!important;bottom:auto!important;width:100%!important;margin-top:20px!important;padding-top:15px!important;border-top:1px solid #2a2d3e}.sidebar-nav ul{width:100%}}@media(max-width:768px){.main-wrapper{overflow-x:hidden!important;max-width:100vw!important}article img,.post-content img,.content img{max-width:100%!important;height:auto!important}pre,code{max-width:100%!important;overflow-x:auto!important;white-space:pre-wrap!important;word-wrap:break-word!important}.post-title,article h1,article h2{word-wrap:break-word!important;overflow-wrap:break-word!important}}.search-widget{margin-bottom:25px}.search-box{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:#888;pointer-events:none}#search-input{width:100%;padding:12px 15px 12px 40px;background-color:#2a2d3e;border:1px solid #3a3d4e;border-radius:8px;color:#fff;font-size:.9rem;outline:none;transition:all .2s ease}#search-input:focus{border-color:#4a9eff;box-shadow:0 0 0 3px rgba(74,158,255,.2)}#search-input::placeholder{color:#666}#search-results{margin-top:10px;max-height:400px;overflow-y:auto}#search-results:empty{display:none}.search-result-item{padding:10px;margin:5px 0;background-color:#2a2d3e;border-radius:6px;transition:background-color .2s ease}.search-result-item:hover{background-color:#3a3d4e}.search-result-item a{color:#4a9eff;text-decoration:none;font-size:.9rem;display:block}.search-result-item .search-date{font-size:.75rem;color:#888;margin-top:3px}.search-result-item .search-snippet{font-size:.8rem;color:#aaa;margin-top:5px;line-height:1.4}.search-no-results{color:#888;font-size:.85rem;padding:10px;text-align:center}.post-featured-image{margin:20px 0 30px;border-radius:8px;overflow:hidden}.post-featured-image img{width:100%;height:auto;display:block}.terms h1{color:#4a9eff!important;margin-bottom:20px}.terms ul{list-style:none!important;padding:0;margin:0}.terms li{margin:12px 0;display:flex;align-items:center;gap:10px}.terms li::before{display:none!important;content:none!important}.terms li svg{color:#4a9eff!important;flex-shrink:0}.terms a,.terms li a,.terms ul li a{color:#4a9eff!important;text-decoration:none!important;font-size:1.1rem;transition:color .2s ease}.terms a:hover,.terms li a:hover,.terms ul li a:hover{color:#6bb0ff!important}.main-wrapper{margin:0 auto!important}.avatar-img{width:300px!important;height:auto!important;border-radius:20px!important;object-fit:contain!important}.sidebar-social{display:flex;gap:15px;justify-content:center;position:absolute;bottom:30px;left:0;right:0}.sidebar-social a{color:#888;transition:color .2s ease}.sidebar-social a:hover{color:#4a9eff}blockquote{border-left:4px solid red!important;background-color:rgba(255,107,107,3%)!important;background-color:transparent!important;margin:1.5em 0!important;padding:15px 20px!important;border-radius:0 8px 8px 0!important;color:#ccc!important;border-top:none!important;border-right:none!important;border-bottom:none!important}blockquote p{margin:0!important}blockquote::before{content:none!important;display:none!important}pre{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-x:hidden!important}pre code{white-space:pre-wrap!important;word-wrap:break-word!important}table,th,td{border-width:2px!important;border-color:#2a2d3e!important}.toc-container{background:#1e2030;border:1px solid #444;border-left:3px solid #4caf50;border-radius:4px;padding:1rem 1.5rem;margin:1.5rem 0 2rem}.toc-title{color:#4caf50;font-weight:700;font-size:.95rem;cursor:pointer;user-select:none;letter-spacing:.05em}.toc-title:hover{color:#80e060}#TableOfContents ul{list-style:none;padding-left:1rem;margin:.5rem 0 0}#TableOfContents li{margin:.3rem 0}#TableOfContents ul ul li{font-size:.82rem}#TableOfContents a{color:#aaa;text-decoration:none;font-size:.9rem}#TableOfContents a:hover{color:#ff7a00;text-decoration:underline}</style></head><body class=three-column-layout><aside class=sidebar-left><div class=sidebar-left__inner><div class=sidebar-avatar><a href=https://halfoncloud.com/><img src=/images/avatar.png alt=HalfOnCloud class=avatar-img></a></div><h2 class=sidebar-title><a href=https://halfoncloud.com/>Half<span class=red>On</span>Cloud</a></h2><p class=sidebar-tagline>IT tutorials, automation scripts, and real-world solutions</p><nav class=sidebar-nav><ul><li><a href=https://halfoncloud.com/><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
Home</a></li><li><a href=https://halfoncloud.com/categories/><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
Categories</a></li><li><a href=https://halfoncloud.com/tags/><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
Tags</a></li><li><a href=https://halfoncloud.com/archives/><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
Archives</a></li><li><a href=https://halfoncloud.com/about/><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
About</a></li></ul></nav><div class=sidebar-social><a href=https://x.com/HeyRadu target=_blank rel=noopener title=X/Twitter><svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
</a><a href=https://linkedin.com/in/radu-bogdan target=_blank rel=noopener title=LinkedIn><svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></div></div></aside><aside class=sidebar-right><div class=sidebar-right__inner><div class="widget search-widget"><div class=search-box><svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
<input type=text id=search-input placeholder=Search... autocomplete=off></div><div id=search-results></div></div><div class=widget><h3 class=widget-title>Recent Posts</h3><ul class=widget-list><li><a href=https://halfoncloud.com/posts/pinning-a-custom-url-to-the-windows-taskbar-via-intune/>Pinning a Custom URL to the Windows Taskbar via Intune</a></li><li><a href=https://halfoncloud.com/posts/onedrive-silentaccountconfig-troubleshooting-the-zero-sign-in-log-clue/>OneDrive Silent Config Not Working? Why the Sign-In Logs Hold the Answer</a></li><li><a href=https://halfoncloud.com/posts/privacy-policy/>Privacy Policy</a></li><li><a href=https://halfoncloud.com/posts/m365-business-premium-part-8-anatomy-of-a-failed-enrollment-tracing-an-esp-error-from-screen-to-root-cause/>M365 Business Premium Part 8: Anatomy of a Failed Enrollment - Tracing an ESP Error from Screen to Root Cause</a></li><li><a href=https://halfoncloud.com/posts/m365-business-premium-part-7-intune-autopilot/>M365 Business Premium Part 7: Intune Autopilot Deployment Walkthrough</a></li></ul></div><div class=widget><h3 class=widget-title>Categories</h3><div class=widget-tags><a href=https://halfoncloud.com/categories/%23deliveryoptimization/ class=widget-tag>#DeliveryOptimization <span class=count>1</span>
</a><a href=https://halfoncloud.com/categories/%23m365apps/ class=widget-tag>#M365Apps <span class=count>1</span>
</a><a href=https://halfoncloud.com/categories/%23msintune/ class=widget-tag>#MSIntune  <span class=count>1</span>
</a><a href=https://halfoncloud.com/categories/%23powershell/ class=widget-tag>#PowerShell <span class=count>1</span>
</a><a href=https://halfoncloud.com/categories/%23win32/ class=widget-tag>#Win32  <span class=count>1</span>
</a><a href=https://halfoncloud.com/categories/cloud/ class=widget-tag>Cloud <span class=count>13</span>
</a><a href=https://halfoncloud.com/categories/general/ class=widget-tag>General <span class=count>1</span></a></div></div><div class=widget><h3 class=widget-title>Tags</h3><div class=widget-tags><a href=https://halfoncloud.com/tags/%23layoutxml/ class=widget-tag>#LayoutXML <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/about/ class=widget-tag>About <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/autopilot/ class=widget-tag>Autopilot <span class=count>2</span>
</a><a href=https://halfoncloud.com/tags/compliancepolicies/ class=widget-tag>CompliancePolicies <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/configurationprofiles/ class=widget-tag>ConfigurationProfiles <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/ddm/ class=widget-tag>DDM <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/devicemanagement/ class=widget-tag>DeviceManagement <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/entraid/ class=widget-tag>EntraID <span class=count>6</span>
</a><a href=https://halfoncloud.com/tags/esp/ class=widget-tag>ESP <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/licensing/ class=widget-tag>Licensing <span class=count>3</span>
</a><a href=https://halfoncloud.com/tags/m365/ class=widget-tag>M365 <span class=count>5</span>
</a><a href=https://halfoncloud.com/tags/mmp-c/ class=widget-tag>MMP-C <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/msintune/ class=widget-tag>MSIntune <span class=count>14</span>
</a><a href=https://halfoncloud.com/tags/onedrive/ class=widget-tag>OneDrive <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/powershell/ class=widget-tag>PowerShell <span class=count>2</span>
</a><a href=https://halfoncloud.com/tags/security/ class=widget-tag>Security <span class=count>1</span>
</a><a href=https://halfoncloud.com/tags/win32/ class=widget-tag>Win32 <span class=count>2</span>
</a><a href=https://halfoncloud.com/tags/win32apps/ class=widget-tag>Win32Apps <span class=count>2</span>
</a><a href=https://halfoncloud.com/tags/windc/ class=widget-tag>WinDC <span class=count>1</span></a></div></div></div></aside><div class=main-wrapper><div class=content><article class=post><header class=post-header><h1 class=post-title>OneDrive Silent Config Not Working? Why the Sign-In Logs Hold the Answer</h1><div class=post-meta><time class=post-date>2026-02-18 · 16 min read</time>
<span class=post-author>Radu Bogdan</span></div><span class=post-tags>#<a href=https://halfoncloud.com/tags/msintune/>MSIntune</a>&nbsp;
#<a href=https://halfoncloud.com/tags/onedrive/>OneDrive</a>&nbsp;</span></header><div class=post-content><div class=toc-container><details><summary class=toc-title>Table of Contents</summary><nav id=TableOfContents><ul><li><a href=#when-silent-config-refuses-to-stay-silent>When Silent Config Refuses to Stay Silent</a><ul><li><a href=#the-environment>The environment</a></li><li><a href=#the-investigation>The investigation</a></li><li><a href=#diagnostic-chain>Diagnostic Chain</a></li></ul></li><li><a href=#registry>Registry</a></li><li><a href=#where-to-look-when-things-still-dont-add-up>Where to Look When Things Still Don&rsquo;t Add Up</a><ul><li><a href=#syncdiagnosticslog>SyncDiagnostics.log</a></li><li><a href=#event-viewer>Event Viewer</a></li></ul></li><li><a href=#sidebar-the-allowtenantlist-registry-structure-gotcha>Sidebar: The AllowTenantList Registry Structure Gotcha</a></li><li><a href=#references>References</a></li></ul></nav></details></div><h2 id=when-silent-config-refuses-to-stay-silent>When Silent Config Refuses to Stay Silent</h2><p>The <em>SilentAccountConfig</em> policy is delivered and set to <strong>1</strong> confirmed through the registry. The Primary Refresh Token is valid with an expiry date weeks away. Single Sign-On works perfectly when tested manually through the OneDrive setup wizard, signing in without ever asking for a password. The device is Entra ID joined, Intune-managed and every single prerequisite on Microsoft&rsquo;s checklist is satisfied, yet <strong>OneDrive</strong> sits in the system tray showing &ldquo;<em>Not signed in</em>&rdquo; and no amount of restarting, registry clearing or policy checking changes anything.</p><p><img src=/images/Blog_P18_000.jpg alt></p><p>This article documents a real troubleshooting session on a Windows 11 device which had been <em>paused</em> in VMware for several days and after resuming, OneDrive refused to silently auto configure the business account.</p><p>What follows is a methodical investigation that rules out <em>Conditional Access</em> policies, MFA challenges, stale registry flags, token expiry and network connectivity one by one, before arriving at a root cause that was hiding in plain sight inside Microsoft&rsquo;s own documentation the entire time.</p><p>Most troubleshooting guides for OneDrive silent config will tell you to clear the <em>SilentBusinessConfigCompleted</em> registry key, kill and restart OneDrive.exe, verify your Conditional Access exclusions and maybe set <em>EnableADAL</em> to <strong>1</strong> for good measure. Exhaustively I&rsquo;ve tried every one of those steps during my debugging session and none of them resolved the issue. The actual solution turned out to be a single sentence buried in Microsoft&rsquo;s &ldquo;Verify SilentAccountConfig&rdquo; procedure that honestly sounds more like a test instruction than a fix.</p><p>To trace this problem from the first symptom all the way down to the root cause, I&rsquo;ve used only PowerShell, the Entra admin center sign-in logs and built-in Windows diagnostic tools without any third-party log parsers or community scripts to download.</p><h3 id=the-environment>The environment</h3><p>The test device is a Windows 11 25H2 VM running under VMware Workstation Pro, Entra ID joined and managed through Intune M365 Business Premium tenant with a custom domain.</p><blockquote><p>Note: Single account lab environment built for learning and certification study.</p></blockquote><p>The OneDrive configuration is deployed through an Intune Settings Catalog profile called <em>GBL-WIN11-OneDrive-SyncConfig-ALL</em>, the key settings include SilentAccountConfig enabled, Known Folder Move with silent opt-in and notification, AllowTenantList enforced with the tenant ID, personal sync disabled and sync health reporting turned on.</p><blockquote><p><strong>Note</strong>: Some of the info from the following screenshots have been redacted due to security concerns.</p></blockquote><p>These are the settings from my OneDrive Configuration Profile:</p><p><img src=/images/Blog_P18_045.jpg alt>
<img src=/images/Blog_P18_047.jpg alt></p><p><em>Conditional Access</em> policies active on this tenant include CA-001 requiring MFA for all administrator roles with no Named Location exemption, CA-003 requiring MFA for all users but with a Named Location exemption covering the lab&rsquo;s home IP address and CA-005 enforcing Terms of Use for all users with the Intune service principals excluded to prevent background sync failures.</p><blockquote><p><strong>Note</strong>: This Conditional Access detail matters because it&rsquo;s the first thing most administrators suspect when silent config breaks and this article will demonstrate exactly how to determine whether CA is actually involved or whether you&rsquo;re chasing a ghost.</p></blockquote><h3 id=the-investigation>The investigation</h3><p>OneDrive is running in the system tray and whole hovering the mouse over it it shows &ldquo;<em>Not signed in</em>&rdquo;. The device has been Entra ID joined for weeks, Intune policies are applying successfully, Microsoft 365 apps like Outlook and Teams authenticate without any issues, only OneDrive refuses to pick up the user&rsquo;s credentials and silently configure the business account.</p><p>The first instinct in this situation is to quickly start debugging things: kill OneDrive, clear registry keys, force a policy sync, maybe even re-enroll the device, but before doing any of that it&rsquo;s worth stepping back for a minute asking a more precise question: Is OneDrive failing to authenticate or is OneDrive never attempting to authenticate in the first place?</p><h3 id=diagnostic-chain>Diagnostic Chain</h3><p><strong>Step 1: Confirm OneDrive Is NOT Signed In</strong></p><p>The first thing to verify is whether OneDrive actually has a business account configured. The <em>Business1</em> registry key under <em>HKCU:\Software\Microsoft\OneDrive\Accounts</em> holds the signed-in account details. If OneDrive successfully completed silent config, this key will contain the user&rsquo;s email, tenant ID and the local OneDrive folder path. If it&rsquo;s empty or missing entirely well&mldr; OneDrive never signed in.</p><p>In my case all three properties came back empty, the <em>Business1</em> key existed but was completely empty. This is actually worse than the key not existing at all because it means OneDrive started the account creation process but never completed it. A missing key means OneDrive never even tried and an empty key means it tried and silently gave up.</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Get-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive\Accounts\Business1&#34;</span> -ErrorAction SilentlyContinue | Select-Object UserEmail, ConfiguredTenantId, UserFolder
</span></span></code></pre></div><p><img src=/images/Blog_P18_007.jpg alt></p><p><strong>Step 2: Verify SilentAccountConfig Policy Is Delivered</strong></p><p>Before blaming the authentication stack first confirm that the Intune policy actually arrived on the device. The <em>SilentAccountConfig</em> value lives under <em>HKLM:\SOFTWARE\Policies\Microsoft\OneDrive</em> and must be set to <strong>1</strong> as a DWORD. While you&rsquo;re there check that <em>FilesOnDemandEnabled</em> and <em>KFMSilentOptIn</em> are also present since these are typically deployed together in the same Settings Catalog profile.</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Get-ItemProperty <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive&#34;</span> | Select-Object SilentAccountConfig, FilesOnDemandEnabled, KFMSilentOptIn
</span></span></code></pre></div><p><img src=/images/Blog_P18_041.jpg alt></p><p>If <em>SilentAccountConfig</em> shows <strong>1</strong>, the policy is delivered but there&rsquo;s a subtle gotcha worth checking the value type, it must be a DWORD not a QWORD. Usually this is also a known issue in environments migrating from Microsoft SCCM/MECM where registry values sometimes get written with the wrong type. OneDrive reads the type, not just the value and silently ignores a QWORD even if it contains <strong>1</strong>.</p><p>The expected output is <em>DWord</em> so if you see a QWord instead, your policy delivery mechanism is writing the wrong registry type and OneDrive will never pick it up, a problem that&rsquo;s invisible unless you specifically check for it.</p><p>In my environment both the value and the type were correct so policy delivery was not the problem.</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>(Get-Item <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive&#34;</span>).GetValueKind(<span style=color:#48b685>&#34;SilentAccountConfig&#34;</span>)
</span></span></code></pre></div><p><img src=/images/Blog_P18_042.jpg alt></p><p><strong>Step 3: Verify PRT Is Valid (Auth Stack Healthy)</strong></p><p>Silent config relies on the <em>Primary Refresh Token</em> to authenticate without user interaction. The PRT is obtained during Windows sign-in and stored by the <em>Web Account Manager</em> (WAM) / Token Broker layer. If the PRT is missing, expired or invalid, OneDrive has no credentials to work with and silent config will fail without any visible error.</p><p>What you&rsquo;re looking for is <em>AzureAdJoined: YES</em> confirming the device is Entra ID joined and <em>AzureAdPrt: YES</em> confirming a valid PRT exists. The <em>PrtExpiryTime</em> should show a date in the future but if it&rsquo;s in the past the token is stale and that&rsquo;s likely your problem. The <em>TenantId</em> should match your tenant.</p><p>In my case all values were healthy, the device was joined, the PRT was valid with an expiry date weeks away and the tenant ID matched. The authentication stack was not the problem either which meant something else was preventing OneDrive from even attempting to use these perfectly valid credentials.</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>dsregcmd /status | Select-String -Pattern <span style=color:#48b685>&#34;AzureAdJoined|AzureAdPrt|PrtUpdateTime|PrtExpiryTime|TenantId&#34;</span>
</span></span></code></pre></div><p><img src=/images/Blog_P18_028.jpg alt></p><p><strong>Step 4: Check Entra Sign-In Logs (The Key Diagnostic)</strong></p><p>This is the step most troubleshooting guides skip and it&rsquo;s the one that changes everything. Instead of guessing whether Conditional Access is blocking OneDrive or whether MFA is interfering with silent auth, you can look at the actual evidence in Entra&rsquo;s sign-in logs and know within seconds.</p><p>So back to the question above: is OneDrive failing to authenticate or is OneDrive never attempting to authenticate in the first place?</p><p>The answer determines your entire troubleshooting path:</p><ol><li>If OneDrive is trying and failing you have a server-side problem: Conditional Access, MFA challenges, token issues.</li><li>If OneDrive is not trying at all, you have a local problem: something on the device is preventing the authentication flow from even starting.</li></ol><p>I recommend running the following PS script separately from a management workstation (not the affected device) since it queries your tenant&rsquo;s audit logs through Microsoft Graph:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Connect-MgGraph -Scopes <span style=color:#48b685>&#34;AuditLog.Read.All&#34;</span> -NoWelcome
</span></span><span style=display:flex><span><span style=color:#ef6155>$today</span> = (Get-Date).ToString(<span style=color:#48b685>&#34;yyyy-MM-dd&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ef6155>$failures</span> = Get-MgAuditLogSignIn -Filter <span style=color:#48b685>&#34;userPrincipalName eq &#39;radubogdan@devworkplace.cloud&#39; and createdDateTime ge </span><span style=color:#ef6155>${today}</span><span style=color:#48b685>T00:00:00Z and status/errorCode ne 0&#34;</span> -Top <span style=color:#f99b15>20</span>
</span></span><span style=display:flex><span><span style=color:#ef6155>$failures</span> | Select-Object CreatedDateTime, AppDisplayName,
</span></span><span style=display:flex><span>    <span style=color:#ef6155>@</span>{N=<span style=color:#48b685>&#39;ErrorCode&#39;</span>;E={<span style=color:#ef6155>$_</span>.Status.ErrorCode}},
</span></span><span style=display:flex><span>    <span style=color:#ef6155>@</span>{N=<span style=color:#48b685>&#39;Reason&#39;</span>;E={<span style=color:#ef6155>$_</span>.Status.FailureReason}},
</span></span><span style=display:flex><span>    <span style=color:#ef6155>@</span>{N=<span style=color:#48b685>&#39;CAPolicies&#39;</span>;E={
</span></span><span style=display:flex><span>        (<span style=color:#ef6155>$_</span>.ConditionalAccessPolicies | Where-Object {<span style=color:#ef6155>$_</span>.Result <span style=color:#5bc4bf>-ne</span> <span style=color:#48b685>&#39;notApplied&#39;</span>} | 
</span></span><span style=display:flex><span>         ForEach-Object { <span style=color:#48b685>&#34;</span>$(<span style=color:#ef6155>$_</span>.DisplayName)<span style=color:#48b685>: </span>$(<span style=color:#ef6155>$_</span>.Result)<span style=color:#48b685>&#34;</span> }) -join <span style=color:#48b685>&#39;; &#39;</span>
</span></span><span style=display:flex><span>    }} |
</span></span><span style=display:flex><span>    Format-Table -AutoSize -Wrap
</span></span></code></pre></div><p><img src=/images/Blog_P18_001.jpg alt></p><p>The results showed sign-in failures from other Microsoft services with error codes <em>50207</em> and <em>50158</em> but the column that mattered most was <em>AppDisplayName</em>. I&rsquo;ve scrolled through every entry looking for anything related to OneDrive, Microsoft OneDrive, OneDrive SyncEngine, SharePoint Online and found absolutely zero entries, OneDrive had not made a single authentication attempt all day.</p><p>This was an important point of the entire investigation since every troubleshooting instinct says to check Conditional Access policies, verify MFA exclusions, review token configurations but none of that matters if OneDrive is not even reaching the front door. The sign-in logs proved the problem was entirely local, something on the device was preventing OneDrive from initiating the authentication flow and no amount of tweaking server-side policies would fix a client-side trigger that never fired.</p><blockquote><p><strong>Note</strong>: Before chasing Conditional Access as the culprit, always check your Entra sign-in logs first. If you see zero OneDrive authentication attempts then CA is irrelevant since OneDrive isn&rsquo;t even reaching the point where CA would evaluate hence the problem is local.</p></blockquote><p><strong>Step 5: Verify SSO Works Manually (Microsoft&rsquo;s Own Test)</strong></p><p>At this point we know the policy is delivered, the PRT is valid and OneDrive is not even attempting to authenticate. The next question is whether Single Sign-On actually works on this device because if SSO is broken, that would explain why silent config gives up without trying.</p><p>Microsoft&rsquo;s own documentation includes a manual verification procedure exactly for this scenario so the trick is to launch OneDrive without the <em>/background</em> argument that the scheduled task normally uses. When OneDrive starts without <em>/background</em>, it shows the setup wizard instead of running silently in the tray and this lets you observe whether SSO kicks in or whether the user gets a password prompt.</p><p>First kill any running OneDrive instance:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>taskkill /f /im OneDrive.exe
</span></span></code></pre></div><p>Then launch it fresh without the background flag:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Start-Process <span style=color:#48b685>&#34;C:\Program Files\Microsoft OneDrive\OneDrive.exe&#34;</span>
</span></span></code></pre></div><p>When the &ldquo;Set up OneDrive&rdquo; wizard appears, type your UPN and click Sign in, then watch carefully because this is the moment that tells you everything, if the spinner appears briefly and then jumps straight to the &ldquo;Your OneDrive folder&rdquo; screen without ever asking for a password then the SSO is working, the PRT did its job, WAM brokered the token silently and OneDrive authenticated without user interaction.</p><p><img src=/images/Blog_P18_011.jpg alt></p><p>That&rsquo;s exactly what happened in my case, no password prompt and no MFA challenge, just a seamless sign-in straight through to folder selection.</p><p><img src=/images/Blog_P18_020.jpg alt></p><p>This result is both reassuring and concerning in the same time, reassuring because it proves the entire authentication stack is healthy Entra ID join, PRT, WAM, SSO all working perfectly and concerning because it raises the obvious question: if SSO works flawlessly when OneDrive is launched manually then why doesn&rsquo;t silent config trigger it automatically?</p><p>The answer as it turns out, was sitting in Microsoft&rsquo;s documentation the entire time.</p><p><strong>Step 6: The Actual Fix - Sign Out and Sign In to Windows</strong></p><p>After five steps of systematic elimination policy confirmed, PRT valid, sign-in logs empty, SSO working manually, the answer was hiding in plain sight inside Microsoft&rsquo;s own &ldquo;Verify SilentAccountConfig&rdquo; documentation:</p><p><a href=https://learn.microsoft.com/en-us/sharepoint/use-silent-account-configuration#enable-silent-configuration>Microsoft Silently configure user accounts</a></p><p>&ldquo;Set the Silent Config policy registry entry&mldr; Sign out of Windows (Ctrl+Alt+Delete → Sign out). Sign in to Windows. Shortly you should see a blue cloud icon in the notification area.&rdquo;</p><p>Silent config does not trigger when OneDrive.exe starts or when you kill and restart OneDrive or on a reboot but it triggers during the Windows logon sequence specifically when OneDrive is launched as part of the user session startup and the fresh logon token is available for WAM to broker.</p><p>This is why every admin&rsquo;s first instinct fails, when OneDrive shows &ldquo;Not signed in&rdquo; the natural reaction is to kill the process and restart it, clear some registry keys, force a policy sync or maybe even re-enroll the device. None of that works here because the authentication hook is tied to the Windows logon token acquisition, not to the OneDrive process lifecycle. You can restart OneDrive a hundred times and it will never re-trigger silent config because the logon event already happened hours or days ago.</p><p>In my case the VM had been paused for several days and then resumed, the Windows session was technically still active, the logon tokens were stale but the session had never been recycled. OneDrive&rsquo;s silent config had no new logon event to hook into so it simply sat there doing nothing.</p><p><img src=/images/Blog_P18_027.png alt></p><p>Before signing out clear any stale state that might prevent silent config from running on the next logon:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>taskkill /f /im OneDrive.exe <span style=color:#f99b15>2</span>&gt;<span style=color:#ef6155>$null</span>
</span></span><span style=display:flex><span>Remove-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;SilentBusinessConfigCompleted&#34;</span> -Force -ErrorAction SilentlyContinue
</span></span><span style=display:flex><span>Remove-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;ClientEverSignedIn&#34;</span> -Force -ErrorAction SilentlyContinue
</span></span><span style=display:flex><span>Remove-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;PersonalUnlinkedTimeStamp&#34;</span> -Force -ErrorAction SilentlyContinue
</span></span><span style=display:flex><span>Remove-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;OneAuthUnrecoverableTimestamp&#34;</span> -Force -ErrorAction SilentlyContinue
</span></span></code></pre></div><p>Then press Ctrl+Alt+Delete -> Sign out (not restart or reboot ), sign back in and wait two to three minutes. OneDrive will launch as part of the fresh logon sequence, detect the <em>SilentAccountConfig = 1</em> policy, grab the PRT from the new logon token and silently configure the business account without any user interaction.</p><p><strong>Step 7: Verify Success</strong></p><p>After signing back into Windows you don&rsquo;t need to open OneDrive manually, if silent config worked you&rsquo;ll see the blue cloud icon quietly appear in the notification area and you can verify the state from the registry, the same way we confirmed the broken state at the start of this investigation.</p><p>The <em>Business1</em> key that was completely empty when we started should now be fully populated:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Get-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive\Accounts\Business1&#34;</span> | Select-Object UserEmail, ConfiguredTenantId, UserFolder | Format-List
</span></span></code></pre></div><p><img src=/images/Blog_P18_036.jpg alt></p><p>And the four registry values we cleared before signing out should now show a clean and successful configuration:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Get-ItemProperty <span style=color:#48b685>&#34;HKCU:\Software\Microsoft\OneDrive&#34;</span> | Select-Object SilentBusinessConfigCompleted, ClientEverSignedIn, PersonalUnlinkedTimeStamp, OneAuthUnrecoverableTimestamp
</span></span></code></pre></div><p><img src=/images/Blog_P18_046.jpg alt></p><h2 id=registry>Registry</h2><p>After signing out and back into Windows, a quick look at <em>HKCU:\Software\Microsoft\OneDrive</em> confirms the fix. <em>SilentBusinessConfigCompleted</em> is now set to <strong>1</strong> meaning the silent configuration flow ran successfully during the Windows logon sequence, not when OneDrive.exe was restarted or during a policy sync, but precisely at logon which is the only moment it was ever going to work.
<em>ClientEverSignedIn</em> is also <strong>1</strong> and the internal telemetry timestamps show OneDrive actively running in the background.</p><p><img src=/images/Blog_P18_035.jpg alt></p><p>Moving one level deeper into <em>HKCU:\Software\Microsoft\OneDrive\Accounts\Business1</em>, the key that was completely empty at the start of this investigation is now fully populated. <em>UserEmail</em> shows the correct UPN, <em>UserFolder</em> points to &ldquo;OneDrive - HalfOnCloud&rdquo; and <em>SilentAuthSucceeded</em> confirms authentication completed without any user interaction. <em>LastPerFolderMigrationScanResult</em> shows that Known Folder Move silently redirected Desktop, Documents, Pictures, Screenshots and Camera Roll, exactly what the <em>KFMSilentOptIn</em> policy was configured to do, working quietly in the background alongside silent config.</p><p><img src=/images/Blog_P18_043.jpg alt></p><p>On the device policy side expanding <em>HKLM:\SOFTWARE\Policies\Microsoft\OneDrive\AllowTenantList</em> confirms it&rsquo;s structured correctly as a registry key containing the tenant ID as a named string value inside it, not as a flat string directly on the OneDrive key. Intune&rsquo;s Settings Catalog has historically created the wrong structure here which causes OneDrive error <em>0x8004deea</em> (which I&rsquo;ll briefly address near the end of this article).</p><p><img src=/images/Blog_P18_034.jpg alt></p><p>Finally <em>HKLM:\SOFTWARE\Policies\Microsoft\OneDrive</em> shows the full picture of every device-side policy delivered through Intune. The critical value is <em>SilentAccountConfig</em> set to <strong>1</strong> as REG_DWORD, the instruction that tells OneDrive to silently configure the business account using the signed-in Windows user&rsquo;s credentials.</p><p><img src=/images/Blog_P18_044.jpg alt></p><h2 id=where-to-look-when-things-still-dont-add-up>Where to Look When Things Still Don&rsquo;t Add Up</h2><h3 id=syncdiagnosticslog>SyncDiagnostics.log</h3><p>OneDrive doesn&rsquo;t have a dedicated Event Viewer channel, the closest thing to a real-time health indicator is a plain text log file sitting quietly in the user&rsquo;s AppData folder: &ldquo;<em>C:\Users&lt;username>\AppData\Local\Microsoft\OneDrive\logs\Business1\SyncDiagnostics.log</em>&rdquo;</p><p><img src=/images/Blog_P18_048.jpg alt></p><p>The value to look for is &ldquo;<em>SyncProgressState</em>&rdquo;, seems that Microsoft never documented what the codes mean but Rudy Ooms reverse-engineered them in one of his articles:</p><table><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td>0 or 16777216</td><td>Healthy or up to date</td></tr><tr><td>65536</td><td>Paused</td></tr><tr><td>8194</td><td>Not syncing</td></tr><tr><td>1854</td><td>Sync problems</td></tr></tbody></table><p>After the sign-out/sign-in fix in this article, on my test device <em>SyncProgressState</em> returned 16777216 (healthy).</p><blockquote><p><strong>Note</strong>: You may also notice a <em>Business2</em> folder alongside Business1, unless a second work account is actively configured under HKCU:\Software\Microsoft\OneDrive\Accounts\Business2, it&rsquo;s just an orphaned log folder from a previous session so just ignore it.</p></blockquote><h3 id=event-viewer>Event Viewer</h3><p>For OneDrive policy delivery, the only log worth opening is: &ldquo;<em>Applications and Services Logs > Microsoft > Windows > DeviceManagement-Enterprise-Diagnostics-Provider > Admin</em>&rdquo;</p><p>Event ID <strong>814</strong> is what you&rsquo;re looking for, one entry per OneDrive policy setting applied by Intune. If SilentAccountConfig, KFMSilentOptIn and FilesOnDemandEnabled each have a corresponding 814 entry with the correct values then the policy delivery is not the problem.</p><p>You may occasionally see Events <strong>873</strong> and <strong>866</strong> on freshly enrolled devices, these indicate the OneDrive ADMX template being ingested for the first time but on an established device they won&rsquo;t appear, which is normal.</p><p>If you suspect an authentication failure rather than a policy problem, you can also check: &ldquo;<em>Applications and Services Logs > Microsoft > Windows > AAD > Operational&rdquo;</em></p><p>Look specifically for Event ID <strong>1098</strong> referencing the OneDrive sync client app ID, if you see 1098 entries for other app IDs like Bing, Search or Windows shell components just ignore them entirely, they&rsquo;re just background noise in this case. In most silent config failures, both logs will be clean because the problem isn&rsquo;t policy delivery or authentication, it&rsquo;s simply that no logon event occurred.</p><h2 id=sidebar-the-allowtenantlist-registry-structure-gotcha>Sidebar: The AllowTenantList Registry Structure Gotcha</h2><p>While inspecting the HKLM policies, it&rsquo;s worth mentioning about the <em>AllowTenantList</em> entry in the left tree which appears as a folder icon (subkey) and not a flat string value sitting on the OneDrive key itself.</p><blockquote><p><strong>Note</strong>: This is a separate issue from the silent config problem documented in this article. You can have a perfectly structured AllowTenantList and still hit &ldquo;Not signed in&rdquo; if silent config never triggered and you can have a broken AllowTenantList on a device where silent config ran successfully but sync gets blocked.</p></blockquote><p>The Intune Settings Catalog policy &ldquo;<em>Allow syncing OneDrive accounts for only specific organizations</em>&rdquo; has been known to create a wrong registry structure. Instead of creating <em>AllowTenantList</em> as a subkey with the tenant ID inside it, Intune writes it as a flat REG_SZ string value directly on the OneDrive key. The result is that OneDrive sees the allow-list is enforced, looks inside the subkey for tenant IDs, finds nothing because it&rsquo;s a string and not a folder and concludes that every tenant is blocked. This is where the user sees error <strong>0x8004deea</strong> with the message &ldquo;Your IT department doesn&rsquo;t allow you to sync files from this location.&rdquo;</p><p>I&rsquo;ve encounter this exact issue in my own tenant a few months ago and decided to create a Proactive Remediation script with a <em>detection</em> script that checks the structure and a <em>remediation</em> script that fixes it, scheduled daily, running daily on all my devices for over two months. Recently I&rsquo;ve disabled it to test whether Microsoft has since fixed it (the bug?) in newer Intune builds.
Ok so if the subkey survives multiple policy sync cycles without reverting to a flat string then the remediation is no longer needed.</p><p>If you&rsquo;re seeing 0x8004deea in your environment, check the registry structure first, does <em>AllowTenantList</em> exist as a flat string (wrong) or exist as a subkey with tenant ID inside (correct):</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span>Get-ItemProperty <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;AllowTenantList&#34;</span> -ErrorAction SilentlyContinue
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Test-Path <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive\AllowTenantList&#34;</span>
</span></span><span style=display:flex><span>Get-ChildItem <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive\AllowTenantList&#34;</span>
</span></span></code></pre></div><p>If you find the flat string then the fix is straightforward, remove the incorrect flat string and create the correct subkey structure:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-PowerShell data-lang=PowerShell><span style=display:flex><span><span style=color:#ef6155>$tenantID</span> = <span style=color:#48b685>&#34;your-tenant-id-here&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Remove-ItemProperty -Path <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive&#34;</span> -Name <span style=color:#48b685>&#34;AllowTenantList&#34;</span> -ErrorAction SilentlyContinue
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>New-Item -Path <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive\AllowTenantList&#34;</span> -Force | Out-Null
</span></span><span style=display:flex><span>New-ItemProperty -Path <span style=color:#48b685>&#34;HKLM:\SOFTWARE\Policies\Microsoft\OneDrive\AllowTenantList&#34;</span> -Name <span style=color:#ef6155>$tenantID</span> -Value <span style=color:#ef6155>$tenantID</span> -PropertyType String -Force | Out-Null
</span></span></code></pre></div><p>So yes there you have it two different symptoms, two different root causes and two different fixes.</p><p><em>Known Folder Move</em> has its own quirks too, but that is a story for another time.</p><h2 id=references>References</h2><ul><li><p><a href=https://practical365.com/intune-policies-for-a-user-friendly-onedrive-for-business-client-deployment/>Practical365: Intune policies for OneDrive deployment</a> - Ru Campbell&rsquo;s policy walkthrough</p></li><li><p><a href=https://call4cloud.nl/onedrive-monitoring-syncprogressstate/>Lost in Monitoring Onedrive</a>- Rudy Ooms OneDrive advanced troubleshooting</p></li><li><p><a href=https://petervanderwoude.nl/post/configuring-the-onedrive-sync-app-basics-for-windows-devices/>Peter van der Woude: Configuring OneDrive sync app basics</a> - comprehensive Intune OneDrive configuration guide.</p></li><li><p><a href=https://learn.microsoft.com/en-us/sharepoint/use-silent-account-configuration>Microsoft: Silently configure user accounts</a> - the key &ldquo;Sign out / Sign in&rdquo; instruction is in the &ldquo;Verify SilentAccountConfig&rdquo; section</p></li><li><p><a href=https://www.kapilarya.com/your-it-department-doesnt-allow-you-to-sync-files-from-this-location>Kapil Arya (Microsoft MVP): Your IT department doesn&rsquo;t allow you to sync files from this location</a> - most widely referenced walkthrough of the AllowTenantList subkey fix</p></li><li><p><a href=https://learn.microsoft.com/en-us/answers/questions/348463/onedrive-cant-sync-error-code-0x8004deea>Microsoft Q&amp;A: OneDrive can&rsquo;t sync error 0x8004deea</a> - community thread confirming the AllowTenantList subkey structure requirement</p></li></ul></div><footer class=post-footer><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><a href=https://halfoncloud.com/posts/pinning-a-custom-url-to-the-windows-taskbar-via-intune/ class="button inline prev">&lt; [<span class=button__text>Pinning a Custom URL to the Windows Taskbar via Intune</span>]
</a>::
<a href=https://halfoncloud.com/posts/privacy-policy/ class="button inline next">[<span class=button__text>Privacy Policy</span>] ></a></div></div></footer></article></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user" style=text-align:center><span>&copy; 2026 Radu Bogdan :: HalfOnCloud</span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><style>.image-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:9999;cursor:pointer;justify-content:center;align-items:center}.image-overlay.active{display:flex}.image-overlay img{max-width:95%;max-height:95%;border:2px solid #fff;object-fit:contain}article img{cursor:pointer}</style><div class=image-overlay id=imageOverlay><img src alt="Enlarged image" id=overlayImage></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("imageOverlay"),t=document.getElementById("overlayImage");document.querySelectorAll("article img").forEach(function(n){n.addEventListener("click",function(){t.src=this.src,e.classList.add("active")})}),e.addEventListener("click",function(){e.classList.remove("active")}),document.addEventListener("keydown",function(t){t.key==="Escape"&&e.classList.remove("active")}),document.querySelectorAll("article pre").forEach(function(e){var t,n=document.createElement("div");n.style.position="relative",e.parentNode.insertBefore(n,e),n.appendChild(e),t=document.createElement("button"),t.textContent="Copy",t.style.cssText="position:absolute; top:5px; right:5px; background:rgba(74,158,255,0.15); color:#4a9eff; border:1px solid rgba(74,158,255,0.3); padding:2px 8px; border-radius:3px; cursor:pointer; font-size:0.7rem; opacity:0.5; transition:opacity 0.2s; z-index:10;",t.addEventListener("mouseenter",function(){t.style.opacity="1"}),t.addEventListener("mouseleave",function(){t.style.opacity="0.7"}),t.addEventListener("click",function(){var n=e.querySelector("code")?e.querySelector("code").textContent:e.textContent;navigator.clipboard.writeText(n).then(function(){t.textContent="Copied!",t.style.background="rgba(34,197,94,0.15)",t.style.color="#22c55e",t.style.borderColor="rgba(34,197,94,0.3)",setTimeout(function(){t.textContent="Copy",t.style.background="rgba(74,158,255,0.15)",t.style.color="#4a9eff",t.style.borderColor="rgba(74,158,255,0.3)"},2e3)})}),n.appendChild(t)})})</script><script>(function(){let n=null;const t=document.getElementById("search-input"),e=document.getElementById("search-results");if(!t||!e)return;fetch("/index.json").then(e=>e.json()).then(e=>{n=e}).catch(e=>console.log("Search index not found"));function o(e,t){let n;return function(...s){clearTimeout(n),n=setTimeout(()=>e.apply(this,s),t)}}function s(t){if(!n||t.length<2){e.innerHTML="";return}const s=n.filter(e=>{const n=(e.title+" "+e.contents+" "+(e.tags||[]).join(" ")).toLowerCase();return n.includes(t.toLowerCase())}).slice(0,8);if(s.length===0){e.innerHTML='<div class="search-no-results">No results found</div>';return}e.innerHTML=s.map(e=>{const o=e.contents.toLowerCase(),i=t.toLowerCase();let n="";const s=o.indexOf(i);if(s!==-1){const o=Math.max(0,s-40),i=Math.min(e.contents.length,s+t.length+60);n=(o>0?"...":"")+e.contents.substring(o,i)+(i<e.contents.length?"...":"")}else n=e.contents.substring(0,100)+"...";return`
                <div class="search-result-item">
                    <a href="${e.permalink}">${e.title}</a>
                    <div class="search-date">${e.date}</div>
                    <div class="search-snippet">${n}</div>
                </div>
            `}).join("")}t.addEventListener("input",o(function(e){s(e.target.value.trim())},300)),document.addEventListener("click",function(n){!t.contains(n.target)&&!e.contains(n.target)&&(e.innerHTML="")}),t.addEventListener("focus",function(){this.value.length>=2&&s(this.value.trim())})})()</script></div></body></html>